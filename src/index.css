@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply transition-colors duration-300;
  }
  
  body {
    @apply bg-gradient-to-br from-mint-50 via-sage-50 to-lime-50 min-h-screen font-zen;
    background-attachment: fixed;
    /* Enhanced mint-inspired background texture */
    background-image: 
      radial-gradient(circle at 20% 80%, rgba(20, 184, 166, 0.03) 0%, transparent 50%),
      radial-gradient(circle at 80% 20%, rgba(34, 197, 94, 0.03) 0%, transparent 50%),
      radial-gradient(circle at 40% 40%, rgba(132, 204, 22, 0.02) 0%, transparent 50%);
  }
  
  /* Zen Typography with improved readability */
  h1, h2, h3, h4, h5, h6 {
    @apply font-display;
    text-rendering: optimizeLegibility;
    font-feature-settings: "kern" 1;
  }
  
  /* Enhanced scrollbar for webkit browsers */
  ::-webkit-scrollbar {
    width: 6px;
  }
  
  ::-webkit-scrollbar-track {
    background: rgba(20, 184, 166, 0.05);
    border-radius: 3px;
  }
  
  ::-webkit-scrollbar-thumb {
    background: linear-gradient(to bottom, rgba(20, 184, 166, 0.3), rgba(34, 197, 94, 0.3));
    border-radius: 3px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(to bottom, rgba(20, 184, 166, 0.5), rgba(34, 197, 94, 0.5));
  }
}

@layer components {
  /* Enhanced Zen Cards with deeper meditation aesthetic */
  .zen-card {
    @apply bg-lime-50/90 backdrop-blur-zen rounded-zen-xl shadow-lg border border-lime-200/40;
    @apply hover:shadow-xl hover:bg-lime-50 transition-all duration-500;
    @apply relative overflow-hidden;
    /* Subtle inner light effect */
    box-shadow: 
      0 4px 20px -2px rgba(132, 204, 22, 0.15), 
      0 2px 8px -2px rgba(132, 204, 22, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.5);
  }
  
  .zen-card::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-br from-lime-100/30 via-transparent to-sage-100/20;
    @apply opacity-70 pointer-events-none;
  }
  
  .zen-card::after {
    content: '';
    @apply absolute inset-px bg-gradient-to-b from-white/20 to-transparent rounded-zen-xl;
    @apply pointer-events-none;
  }
  
  .zen-card-elevated {
    @apply zen-card shadow-2xl;
    @apply animate-zen-float;
  }
  
  /* Primary Zen Button with enhanced meditation feel */
  .zen-button {
    @apply bg-gradient-to-r from-sage-500 to-lime-500;
    @apply hover:from-sage-600 hover:to-lime-600;
    @apply text-white font-medium py-zen-lg px-zen-xl rounded-zen-lg;
    @apply shadow-md hover:shadow-xl;
    @apply transition-all duration-300 ease-out;
    @apply active:scale-95 active:shadow-lg;
    @apply relative overflow-hidden;
    @apply border border-sage-600/20;
    /* Enhanced aurora button glow */
    box-shadow: 
      0 4px 20px -2px rgba(20, 184, 166, 0.15),
      0 2px 8px -2px rgba(20, 184, 166, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.2),
      inset 0 -1px 0 rgba(0, 0, 0, 0.1);
  }
  
  .zen-button::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-white/25 via-white/10 to-transparent;
    @apply opacity-0 hover:opacity-100 transition-opacity duration-300;
  }
  
  .zen-button:hover {
    box-shadow: 
      0 6px 25px -2px rgba(20, 184, 166, 0.2),
      0 4px 12px -2px rgba(20, 184, 166, 0.15),
      inset 0 1px 0 rgba(255, 255, 255, 0.3),
      inset 0 -1px 0 rgba(0, 0, 0, 0.1);
    transform: translateY(-1px);
  }
  
  .zen-button:active::after {
    content: '';
    @apply absolute inset-0 bg-sage-700/20 rounded-zen-lg;
    @apply animate-ripple pointer-events-none;
  }
  
  /* Secondary Zen Button */
  .zen-button-secondary {
    @apply bg-white/80 hover:bg-white/90;
    @apply text-sage-700 hover:text-sage-800;
    @apply font-medium py-zen-md px-zen-lg rounded-zen border border-mint-200/50;
    @apply shadow-sm hover:shadow-lg;
    @apply transition-all duration-300 ease-out;
    @apply backdrop-blur-zen;
    @apply hover:scale-[1.02] active:scale-95;
  }
  
  /* Enhanced Streak Circle with deeper meditation aesthetic */
  .streak-circle {
    @apply w-36 h-36 rounded-full flex items-center justify-center;
    @apply text-white shadow-2xl;
    @apply relative overflow-hidden;
    @apply animate-breathe;
    /* Enhanced 3D meditation circle effect */
    box-shadow: 
      0 8px 32px -4px rgba(20, 184, 166, 0.3),
      0 4px 16px -2px rgba(20, 184, 166, 0.2),
      inset 0 2px 4px rgba(255, 255, 255, 0.2),
      inset 0 -2px 4px rgba(0, 0, 0, 0.1);
  }
  
  .streak-circle::before {
    content: '';
    @apply absolute inset-0 rounded-full;
    @apply bg-gradient-to-br from-white/35 via-white/10 to-black/15;
    @apply animate-gentle-pulse;
  }
  
  .streak-circle::after {
    content: '';
    @apply absolute inset-2 rounded-full;
    @apply border border-white/25;
    /* Inner glow for meditation focus */
    box-shadow: inset 0 0 20px rgba(255, 255, 255, 0.1);
  }
  
  /* Meditation Type Cards */
  .meditation-card {
    @apply zen-button-secondary p-zen-lg text-left;
    @apply hover:scale-[1.02] hover:shadow-lg;
    @apply cursor-pointer;
  }
  
  .meditation-card:hover {
    @apply bg-gradient-to-br from-mint-50/80 to-sage-50/80;
  }
  
  /* Weekly View Enhancements */
  .week-day {
    @apply w-10 h-10 rounded-full flex items-center justify-center;
    @apply transition-all duration-300;
    @apply relative overflow-hidden;
  }
  
  .week-day-active {
    @apply bg-gradient-to-br from-mint-400 to-mint-500 text-white shadow-lg;
    @apply animate-gentle-pulse;
  }
  
  .week-day-inactive {
    @apply bg-gradient-to-br from-cloud-100 to-cloud-200 text-cloud-400;
    @apply hover:from-sage-100 hover:to-lime-100 hover:text-sage-600;
  }
  
  .week-day-today {
    @apply ring-2 ring-mint-400 ring-offset-2 ring-offset-white/50;
  }
  
  /* Stats Cards */
  .stat-card {
    @apply bg-gradient-to-br from-white/60 to-white/40;
    @apply backdrop-blur-zen rounded-zen-lg p-zen-lg;
    @apply border border-white/30 shadow-sm;
    @apply hover:shadow-lg transition-all duration-300;
  }
  
  /* Settings Panel */
  .settings-panel {
    @apply zen-card p-zen-xl;
    @apply border-l-4 border-l-lime-400;
  }
  
  /* Loading States */
  .zen-loading {
    @apply inline-block w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin;
  }
  
  /* Success State */
  .success-checkmark {
    @apply text-6xl mb-zen-md;
    @apply animate-bounce;
    filter: drop-shadow(0 4px 8px rgba(20, 184, 166, 0.3));
  }
  
  /* Enhanced Breathing Animation for Meditation State */
  .breathing-indicator {
    @apply absolute inset-0 rounded-zen-xl;
    @apply bg-gradient-to-br from-mint-400/15 via-sage-400/10 to-lime-400/15;
    @apply animate-breathe;
    /* Subtle breathing glow effect */
    box-shadow: 
      0 0 30px rgba(20, 184, 166, 0.1),
      inset 0 0 30px rgba(34, 197, 94, 0.05);
  }
  
  /* Enhanced Gentle Glow Effects */
  .zen-glow {
    @apply relative;
  }
  
  .zen-glow::before {
    content: '';
    @apply absolute -inset-2 bg-gradient-to-r from-mint-400 via-sage-400 to-lime-400;
    @apply rounded-zen-xl opacity-15 blur-md;
    @apply animate-gentle-pulse;
  }
  
  .zen-glow::after {
    content: '';
    @apply absolute -inset-1 bg-gradient-to-r from-mint-300 to-sage-300;
    @apply rounded-zen-xl opacity-10 blur-sm;
    @apply animate-gentle-pulse;
    animation-delay: 1s;
  }
  
  /* Scroll Enhancements */
  .zen-scroll {
    scrollbar-width: thin;
    scrollbar-color: rgba(20, 184, 166, 0.3) transparent;
  }
  
  .zen-scroll::-webkit-scrollbar {
    width: 4px;
  }
  
  .zen-scroll::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .zen-scroll::-webkit-scrollbar-thumb {
    background: rgba(20, 184, 166, 0.3);
    border-radius: 2px;
  }
  
  .zen-scroll::-webkit-scrollbar-thumb:hover {
    background: rgba(20, 184, 166, 0.5);
  }
  
  /* Additional Meditation-Inspired Components */
  .meditation-quote {
    @apply text-zen-xs text-mint-500 italic text-center px-zen-md py-zen-sm;
    @apply bg-gradient-to-r from-mint-50/50 to-sage-50/50 rounded-zen;
    @apply border-l-2 border-mint-300/50;
  }
  
  .mindfulness-indicator {
    @apply inline-block w-3 h-3 rounded-full;
    @apply bg-gradient-to-br from-mint-400 to-mint-500;
    @apply animate-gentle-pulse shadow-lg;
  }
  
  .peace-divider {
    @apply w-full h-px bg-gradient-to-r from-transparent via-mint-300/50 to-transparent;
    @apply my-zen-lg;
  }
  
  /* Enhanced Mobile Touch Targets */
  @media (max-width: 768px) {
    .zen-button, .zen-button-secondary {
      @apply min-h-[48px] min-w-[48px];
    }
    
    .week-day {
      @apply min-w-[44px] min-h-[44px];
    }
    
    .streak-circle {
      @apply w-32 h-32;
    }
  }
  
  /* Accessibility Enhancements */
  @media (prefers-reduced-motion: reduce) {
    .animate-breathe,
    .animate-gentle-pulse,
    .animate-zen-float,
    .animate-zen-float-slow,
    .animate-meditation-glow,
    .animate-fade-in-up {
      animation: none;
    }
  }
  
  /* High Contrast Mode Support */
  @media (prefers-contrast: high) {
    .zen-card {
      @apply border-2 border-sage-600;
    }
    
    .zen-button {
      @apply border-2 border-sage-700;
    }
  }
  
  /* Dark Mode Preparation (for future enhancement) */
  @media (prefers-color-scheme: dark) {
    .zen-card {
      @apply bg-sage-900/80 border-sage-700/50;
    }
  }

  /* Milestone Celebration Animations */
  .animate-zen-celebrate {
    animation: zen-celebrate 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
  }

  @keyframes zen-celebrate {
    0% {
      transform: scale(0.8) rotate(-5deg);
      opacity: 0;
    }
    50% {
      transform: scale(1.1) rotate(2deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
      opacity: 1;
    }
  }

  /* Particle System Animation */
  .animate-zen-particles {
    animation: zen-particles 4s ease-out forwards;
  }

  @keyframes zen-particles {
    0% {
      transform: translateY(100px) scale(0);
      opacity: 0;
    }
    20% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
    80% {
      opacity: 1;
    }
    100% {
      transform: translateY(-200px) scale(0);
      opacity: 0;
    }
  }

  /* Easter Egg Animations */
  .animate-zen-bloom {
    animation: zen-bloom 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  }

  @keyframes zen-bloom {
    0% {
      transform: scale(0) rotate(180deg);
      opacity: 0;
    }
    50% {
      transform: scale(1.2) rotate(90deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
      opacity: 1;
    }
  }

  .animate-zen-rain {
    animation: zen-rain linear infinite;
  }

  @keyframes zen-rain {
    0% {
      transform: translateY(-100vh);
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    90% {
      opacity: 1;
    }
    100% {
      transform: translateY(100vh);
      opacity: 0;
    }
  }

  /* Social Share Card Styling */
  .share-card {
    @apply bg-gradient-to-br from-white via-mint-50/50 to-sage-50/50;
    @apply border border-mint-200/50 rounded-zen-xl shadow-lg;
    @apply relative overflow-hidden;
  }

  .share-card::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-br from-mint-100/20 via-transparent to-sage-100/20;
    @apply animate-breathe;
  }

  /* Confetti Animation for Celebrations */
  .animate-confetti {
    animation: confetti 3s ease-out forwards;
  }

  @keyframes confetti {
    0% {
      transform: translateY(0) rotateZ(0deg);
      opacity: 1;
    }
    100% {
      transform: translateY(-1000px) rotateZ(720deg);
      opacity: 0;
    }
  }

  /* Milestone Badge Glow */
  .milestone-badge {
    @apply relative;
    box-shadow: 
      0 0 20px rgba(20, 184, 166, 0.4),
      0 0 40px rgba(20, 184, 166, 0.2),
      0 0 60px rgba(20, 184, 166, 0.1);
  }

  .milestone-badge::before {
    content: '';
    @apply absolute -inset-2 rounded-full;
    background: conic-gradient(from 0deg, transparent, rgba(20, 184, 166, 0.3), transparent);
    @apply animate-spin;
    animation-duration: 3s;
  }

  /* Zen Ripple Effect */
  .animate-ripple {
    animation: zen-ripple 0.6s ease-out;
  }

  @keyframes zen-ripple {
    0% {
      transform: scale(0);
      opacity: 1;
    }
    100% {
      transform: scale(4);
      opacity: 0;
    }
  }

  /* Success Celebration Shake */
  .animate-success-shake {
    animation: success-shake 0.5s ease-in-out;
  }

  @keyframes success-shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px) rotate(-1deg); }
    75% { transform: translateX(5px) rotate(1deg); }
  }

  /* Wisdom Quote Reveal */
  .animate-wisdom-reveal {
    animation: wisdom-reveal 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  }

  @keyframes wisdom-reveal {
    0% {
      transform: translateY(20px);
      opacity: 0;
    }
    100% {
      transform: translateY(0);
      opacity: 1;
    }
  }

  /* Enhanced Hover Effects for Shareable Elements */
  .shareable-hover {
    @apply transition-all duration-300;
    @apply hover:scale-[1.02] hover:shadow-xl;
    @apply cursor-pointer;
  }

  .shareable-hover:hover {
    @apply bg-gradient-to-br from-mint-50/80 to-sage-50/80;
  }

  /* Loading States for Milestone Calculations */
  .milestone-loading {
    @apply inline-block w-6 h-6 border-2 border-sage-300 border-t-sage-600 rounded-full animate-spin;
  }

  /* Notification Toast Styles */
  .zen-toast {
    @apply fixed top-4 right-4 z-50;
    @apply zen-card px-zen-lg py-zen-md;
    @apply animate-pulse;
    max-width: 300px;
  }

  @keyframes slide-in-right {
    0% {
      transform: translateX(100%);
      opacity: 0;
    }
    100% {
      transform: translateX(0);
      opacity: 1;
    }
  }

  .animate-slide-out-right {
    animation: slide-out-right 0.3s ease-in-out forwards;
  }

  @keyframes slide-out-right {
    0% {
      transform: translateX(0);
      opacity: 1;
    }
    100% {
      transform: translateX(100%);
      opacity: 0;
    }
  }

  /* Ripple Effect Animation */
  .animate-ripple-effect {
    position: relative;
    overflow: hidden;
  }

  .animate-ripple-effect::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.6);
    transform: translate(-50%, -50%);
    animation: ripple-expand 0.6s linear;
  }

  @keyframes ripple-expand {
    to {
      width: 200px;
      height: 200px;
      opacity: 0;
    }
  }

  /* Breathe Synchronization for Breathing Coach */
  .breathe-sync {
    animation: breathe-sync 12s infinite ease-in-out;
  }

  @keyframes breathe-sync {
    0% { transform: scale(1); opacity: 0.8; }
    33.33% { transform: scale(1.4); opacity: 1; filter: brightness(1.2); }
    50% { transform: scale(1.4); opacity: 1; filter: brightness(1.3); }
    100% { transform: scale(1); opacity: 0.8; filter: brightness(1); }
  }

  .breathe-inhale {
    animation: breathe-inhale 4s ease-out;
  }

  .breathe-hold {
    animation: breathe-hold 2s ease-in-out;
  }

  .breathe-exhale {
    animation: breathe-exhale 6s ease-in;
  }

  @keyframes breathe-inhale {
    0% { transform: scale(1); filter: brightness(1); }
    100% { transform: scale(1.4); filter: brightness(1.2); }
  }

  @keyframes breathe-hold {
    0%, 100% { transform: scale(1.4); filter: brightness(1.2) saturate(1.1); }
    50% { transform: scale(1.42); filter: brightness(1.25) saturate(1.15); }
  }

  @keyframes breathe-exhale {
    0% { transform: scale(1.4); filter: brightness(1.2); }
    100% { transform: scale(1); filter: brightness(1); }
  }

  .breathe-glow {
    animation: breathe-glow 12s infinite ease-in-out;
  }

  @keyframes breathe-glow {
    0% { 
      box-shadow: 0 0 20px rgba(20, 184, 166, 0.3), 0 0 40px rgba(20, 184, 166, 0.2);
    }
    33.33% { 
      box-shadow: 0 0 40px rgba(20, 184, 166, 0.6), 0 0 80px rgba(20, 184, 166, 0.4);
    }
    50% { 
      box-shadow: 0 0 50px rgba(20, 184, 166, 0.8), 0 0 100px rgba(20, 184, 166, 0.5);
    }
    100% { 
      box-shadow: 0 0 20px rgba(20, 184, 166, 0.3), 0 0 40px rgba(20, 184, 166, 0.2);
    }
  }

  /* Guided Meditation Specific Styles */
  .meditation-session-overlay {
    @apply fixed inset-0 bg-black/30 backdrop-blur-md;
    background-image: 
      radial-gradient(circle at 20% 80%, rgba(20, 184, 166, 0.05) 0%, transparent 50%),
      radial-gradient(circle at 80% 20%, rgba(34, 197, 94, 0.05) 0%, transparent 50%);
  }

  .breathing-circle {
    @apply relative;
    filter: drop-shadow(0 8px 32px rgba(20, 184, 166, 0.3));
  }

  .breathing-circle::before {
    content: '';
    @apply absolute -inset-4 rounded-full;
    background: conic-gradient(from 0deg, transparent, rgba(20, 184, 166, 0.2), transparent);
    @apply animate-spin;
    animation-duration: 8s;
  }

  .breathing-circle::after {
    content: '';
    @apply absolute -inset-2 rounded-full;
    @apply bg-gradient-to-br from-mint-200/20 to-sage-200/20;
    @apply animate-gentle-pulse;
  }

  .meditation-progress {
    @apply relative overflow-hidden;
  }

  .meditation-progress::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent;
    @apply animate-zen-float;
    transform: translateX(-100%);
  }

  .meditation-phase-indicator {
    @apply transition-all duration-500 ease-out;
  }

  .meditation-phase-active {
    @apply scale-125 shadow-lg;
    box-shadow: 0 0 20px rgba(20, 184, 166, 0.4);
  }

  .meditation-guidance-text {
    @apply transition-all duration-700 ease-out;
    animation: wisdom-reveal 0.8s ease-out;
  }

  /* Enhanced Meditation Timer */
  .meditation-timer {
    @apply relative;
    background: radial-gradient(circle, rgba(20, 184, 166, 0.1) 0%, transparent 70%);
  }

  .meditation-timer::before {
    content: '';
    @apply absolute inset-0 rounded-full;
    background: conic-gradient(from 0deg, 
      rgba(20, 184, 166, 0.3) 0deg,
      rgba(34, 197, 94, 0.3) 120deg,
      rgba(132, 204, 22, 0.3) 240deg,
      rgba(20, 184, 166, 0.3) 360deg
    );
    @apply animate-spin;
    animation-duration: 20s;
    opacity: 0.3;
  }

  /* Meditation Session Controls */
  .meditation-controls {
    @apply backdrop-blur-zen bg-white/80;
    @apply border border-white/40 rounded-zen-xl;
    @apply shadow-lg;
  }

  .meditation-play-button {
    @apply relative overflow-hidden;
    @apply transition-all duration-300;
  }

  .meditation-play-button::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent;
    @apply opacity-0 transition-opacity duration-300;
    transform: translateX(-100%);
  }

  .meditation-play-button:hover::before {
    @apply opacity-100;
    animation: shimmer 1s ease-out;
  }

  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }

  /* Meditation Completion Celebration */
  .meditation-complete {
    @apply animate-zen-celebrate;
  }

  .meditation-complete::before {
    content: '';
    @apply absolute -inset-4 rounded-zen-xl;
    background: conic-gradient(from 0deg, 
      rgba(20, 184, 166, 0.4),
      rgba(34, 197, 94, 0.4),
      rgba(132, 204, 22, 0.4),
      rgba(20, 184, 166, 0.4)
    );
    @apply animate-spin;
    animation-duration: 3s;
    opacity: 0.5;
  }

  /* Music Controls Styling */
  .music-controls {
    @apply relative;
  }

  .music-controls input[type="range"] {
    -webkit-appearance: none;
    appearance: none;
    @apply h-2 rounded-full cursor-pointer;
    @apply focus:outline-none focus:ring-2 focus:ring-mint-300 focus:ring-opacity-50;
  }

  .music-controls input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    @apply w-4 h-4 rounded-full;
    @apply bg-gradient-to-br from-mint-400 to-sage-500;
    @apply shadow-md cursor-pointer;
    @apply transition-all duration-200;
  }

  .music-controls input[type="range"]::-webkit-slider-thumb:hover {
    @apply shadow-lg scale-110;
    box-shadow: 0 0 0 4px rgba(20, 184, 166, 0.2);
  }

  .music-controls input[type="range"]::-moz-range-thumb {
    @apply w-4 h-4 rounded-full border-0;
    @apply bg-gradient-to-br from-mint-400 to-sage-500;
    @apply shadow-md cursor-pointer;
    @apply transition-all duration-200;
  }

  .music-controls input[type="range"]::-moz-range-thumb:hover {
    @apply shadow-lg;
    box-shadow: 0 0 0 4px rgba(20, 184, 166, 0.2);
  }

  /* Music Selection Animation */
  .animate-zen-slide-in {
    animation: zen-slide-in 0.3s ease-out;
  }

  @keyframes zen-slide-in {
    0% {
      opacity: 0;
      transform: translateY(-10px) scale(0.95);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  /* Music Button Hover Effects */
  .music-button {
    @apply relative overflow-hidden;
    @apply transition-all duration-300;
  }

  .music-button::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-white/25 via-white/10 to-transparent;
    @apply opacity-0 transition-opacity duration-300;
    transform: translateX(-100%);
  }

  .music-button:hover::before {
    @apply opacity-100;
    animation: music-shimmer 0.6s ease-out;
  }

  @keyframes music-shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }

  /* Accessibility for meditation sessions and music controls */
  @media (prefers-reduced-motion: reduce) {
    .breathing-circle::before,
    .breathing-circle::after,
    .meditation-timer::before {
      animation: none;
    }
    
    .breathe-sync {
      animation: none;
      transform: scale(1);
    }
    
    .animate-zen-slide-in {
      animation: none;
    }
    
    .music-button:hover::before {
      animation: none;
    }
  }

  /* High contrast mode for music controls */
  @media (prefers-contrast: high) {
    .music-controls input[type="range"]::-webkit-slider-thumb {
      @apply border-2 border-sage-800;
    }

    .music-controls input[type="range"]::-moz-range-thumb {
      @apply border-2 border-sage-800;
    }
  }
}