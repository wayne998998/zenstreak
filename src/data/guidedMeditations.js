export const guidedMeditations = [
  {
    id: 'breathing-5min',
    title: '5-Minute Breathing',
    duration: 300, // 5 minutes in seconds
    description: 'A gentle breathing practice to center yourself',
    emoji: '🌬️',
    color: 'from-mint-400 to-sage-500',
    phases: [
      {
        title: 'Welcome & Settling',
        duration: 60,
        guidance: [
          'Welcome to your breathing meditation.',
          'Find a comfortable position, sitting or lying down.',
          'Close your eyes gently or soften your gaze.',
          'Take a moment to arrive fully in this space.'
        ]
      },
      {
        title: 'Natural Breathing',
        duration: 120,
        guidance: [
          'Begin by noticing your natural breath.',
          'Feel the air flowing in and out of your nostrils.',
          'There\'s nothing to change, just observe.',
          'Notice the gentle rise and fall of your chest.',
          'If your mind wanders, gently return to your breath.'
        ]
      },
      {
        title: 'Counted Breathing',
        duration: 90,
        guidance: [
          'Now we\'ll count our breaths together.',
          'Inhale slowly for 4 counts... 1, 2, 3, 4.',
          'Hold gently for 2 counts... 1, 2.',
          'Exhale slowly for 6 counts... 1, 2, 3, 4, 5, 6.',
          'Continue this rhythm at your own pace.'
        ]
      },
      {
        title: 'Closing',
        duration: 30,
        guidance: [
          'Beautiful work with your breath today.',
          'Take a moment to notice how you feel.',
          'Gently wiggle your fingers and toes.',
          'When you\'re ready, open your eyes.'
        ]
      }
    ]
  },
  {
    id: 'body-scan-10min',
    title: '10-Minute Body Scan',
    duration: 600, // 10 minutes in seconds
    description: 'Release tension and connect with your body',
    emoji: '✨',
    color: 'from-sage-400 to-lime-500',
    phases: [
      {
        title: 'Preparation',
        duration: 90,
        guidance: [
          'Welcome to your body scan meditation.',
          'Lie down comfortably with your arms at your sides.',
          'Close your eyes and take three deep breaths.',
          'Allow your body to sink into the surface beneath you.',
          'Let go of any tension from your day.'
        ]
      },
      {
        title: 'Head & Face',
        duration: 120,
        guidance: [
          'Begin by bringing attention to the top of your head.',
          'Notice any sensations in your scalp.',
          'Move your awareness to your forehead, releasing tension.',
          'Soften the muscles around your eyes.',
          'Relax your jaw, letting it drop slightly open.',
          'Feel the peace spreading through your face.'
        ]
      },
      {
        title: 'Upper Body',
        duration: 150,
        guidance: [
          'Move your attention to your neck and shoulders.',
          'Notice any tightness and breathe into it.',
          'Scan down through your arms to your fingertips.',
          'Feel your chest rising and falling with each breath.',
          'Notice your back against the surface supporting you.',
          'Allow your entire upper body to release and relax.'
        ]
      },
      {
        title: 'Lower Body',
        duration: 150,
        guidance: [
          'Bring awareness to your stomach and abdomen.',
          'Notice the gentle movement with your breathing.',
          'Scan through your hips and pelvis.',
          'Move down through your thighs, feeling them heavy.',
          'Notice your knees, calves, and ankles.',
          'End at your feet and toes, feeling completely relaxed.'
        ]
      },
      {
        title: 'Whole Body Integration',
        duration: 90,
        guidance: [
          'Now sense your entire body as one connected whole.',
          'Feel the peace and relaxation throughout.',
          'Take a moment to appreciate this state of calm.',
          'Slowly begin to wiggle your fingers and toes.',
          'When ready, gently open your eyes and stretch.'
        ]
      }
    ]
  },
  {
    id: 'mindfulness-15min',
    title: '15-Minute Mindfulness',
    duration: 900, // 15 minutes in seconds
    description: 'Cultivate present moment awareness',
    emoji: '🧘‍♀️',
    color: 'from-lime-400 to-mint-500',
    phases: [
      {
        title: 'Grounding',
        duration: 180,
        guidance: [
          'Welcome to mindfulness meditation.',
          'Sit comfortably with your spine straight but relaxed.',
          'Place your hands gently on your knees.',
          'Close your eyes and take three conscious breaths.',
          'Notice the sounds around you without judgment.',
          'Feel your connection to this present moment.'
        ]
      },
      {
        title: 'Breath Awareness',
        duration: 300,
        guidance: [
          'Turn your attention to your breathing.',
          'Don\'t try to control it, just observe.',
          'Notice where you feel the breath most clearly.',
          'Perhaps at your nostrils, chest, or belly.',
          'When thoughts arise, acknowledge them kindly.',
          'Gently return your attention to your breath.',
          'Each return is a moment of mindfulness.'
        ]
      },
      {
        title: 'Thoughts & Emotions',
        duration: 240,
        guidance: [
          'Now expand your awareness to include thoughts.',
          'Notice thoughts as they come and go.',
          'You don\'t need to engage with them.',
          'See them like clouds passing in the sky.',
          'If emotions arise, welcome them with kindness.',
          'All experiences are valid in this moment.',
          'Return to your breath as your anchor.'
        ]
      },
      {
        title: 'Open Awareness',
        duration: 120,
        guidance: [
          'Expand to include all of your experience.',
          'Sounds, sensations, thoughts, emotions.',
          'Rest in this open, spacious awareness.',
          'You are the witness of all that arises.',
          'Notice the peace that underlies everything.'
        ]
      },
      {
        title: 'Integration',
        duration: 60,
        guidance: [
          'Take a moment to appreciate your practice.',
          'Set an intention to carry this mindfulness forward.',
          'Know that you can return to this peace anytime.',
          'Gently wiggle your fingers and when ready, open your eyes.'
        ]
      }
    ]
  },
  {
    id: 'stress-relief-3min',
    title: '3-Minute Stress Relief',
    duration: 180, // 3 minutes in seconds
    description: 'Quick reset for stressful moments',
    emoji: '🌊',
    color: 'from-mint-300 to-sage-400',
    phases: [
      {
        title: 'Immediate Relief',
        duration: 60,
        guidance: [
          'Take three deep, slow breaths right now.',
          'Feel your feet on the ground beneath you.',
          'Drop your shoulders away from your ears.',
          'Soften your jaw and unclench any tension.'
        ]
      },
      {
        title: 'Stress Release',
        duration: 90,
        guidance: [
          'Place one hand on your heart, one on your belly.',
          'Breathe into your hands, feeling them rise.',
          'With each exhale, release stress and tension.',
          'Imagine breathing in calm, breathing out worry.',
          'You are safe in this moment.',
          'This feeling will pass.'
        ]
      },
      {
        title: 'Return to Center',
        duration: 30,
        guidance: [
          'Feel yourself returning to your center.',
          'You have everything you need within you.',
          'Take this calm with you as you continue your day.'
        ]
      }
    ]
  }
];

// Helper function to get meditation by ID
export const getMeditationById = (id) => {
  return guidedMeditations.find(meditation => meditation.id === id);
};

// Helper function to format time
export const formatTime = (seconds) => {
  const minutes = Math.floor(seconds / 60);
  const remainingSeconds = seconds % 60;
  return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;
};

// Helper function to get current phase
export const getCurrentPhase = (meditation, elapsedTime) => {
  let timeAccumulated = 0;
  
  for (let i = 0; i < meditation.phases.length; i++) {
    const phase = meditation.phases[i];
    timeAccumulated += phase.duration;
    
    if (elapsedTime <= timeAccumulated) {
      const phaseElapsed = elapsedTime - (timeAccumulated - phase.duration);
      const phaseProgress = phaseElapsed / phase.duration;
      
      return {
        phase,
        phaseIndex: i,
        phaseElapsed,
        phaseProgress: Math.min(1, Math.max(0, phaseProgress)),
        isComplete: false
      };
    }
  }
  
  return {
    phase: meditation.phases[meditation.phases.length - 1],
    phaseIndex: meditation.phases.length - 1,
    phaseElapsed: meditation.phases[meditation.phases.length - 1].duration,
    phaseProgress: 1,
    isComplete: true
  };
};

// Helper function to get current guidance text
export const getCurrentGuidance = (phase, phaseElapsed) => {
  const guidanceInterval = phase.duration / phase.guidance.length;
  const currentIndex = Math.floor(phaseElapsed / guidanceInterval);
  return phase.guidance[Math.min(currentIndex, phase.guidance.length - 1)];
};